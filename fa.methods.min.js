(function(){var d,c,f,e=[].indexOf||function(g){for(var b=0,a=this.length;b<a;b++){if(b in this&&this[b]===g){return b;}}return -1;};this.digraph={create:function(){return{nodes:{v:[]},edges:{a:[],b:[],v:[]}};
},edges:{add:function(k,h,g,j){if(j==null){j=digraph.for_arrays_of(k.edges,(function(a){return a.push(null);}))-1;}else{digraph.for_arrays_of(k.edges,(function(a){return digraph.ins(a,j);
}));}k.edges.a[j]=h;k.edges.b[j]=g;return j;},del:function(b,a){return digraph.for_arrays_of(b.edges,digraph.del,a);},get:function(b,a){return b.edges.v[a];
},set:function(g,b,a){return g.edges.v[b]=a;},out:function(l,g){var a,k,n,j,m,h;m=l.edges.b;h=[];for(k=n=0,j=m.length;n<j;k=++n){a=m[k];if(l.edges.a[k]===g){h.push(k);
}}return h;},has:function(m,k,g){var l,j,o,h,n;n=m.edges.b;for(j=o=0,h=n.length;o<h;j=++o){l=n[j];if(m.edges.a[j]===k&&l===g){return true;}}return false;
}},nodes:{add:function(b,a){if(a==null){a=digraph.for_arrays_of(b.nodes,(function(g){return g.push(null);}))-1;}else{digraph.for_arrays_of(b.nodes,(function(g){return digraph.ins(g,a);
}));}return a;},del:function(b,a){return digraph.for_arrays_of(b.nodes,digraph.del,a);},get:function(b,a){return b.nodes.v[a];},set:function(g,b,a){return g.nodes.v[b]=a;
},out:function(l,g){var a,k,n,j,m,h;m=l.edges.b;h=[];for(k=n=0,j=m.length;n<j;k=++n){a=m[k];if(l.edges.a[k]===g){h.push(a);}}return h;},"in":function(l,j){var h,k,n,g,m,b;
m=l.edges.a;b=[];for(k=n=0,g=m.length;n<g;k=++n){h=m[k];if(l.edges.b[k]===j){b.push(h);}}return b;}},ins:function(a,b,g){if(b<a.length){a.push(a[b]);a[b]=g;
}else{a.push(g);}return b;},del:function(a,g){var h,b;b=-1;if(g>=0){h=a.length-1;if(g<h){a[g]=a.pop();b=g;}else{if(g===h){a.pop();b=g;}}}return b;},get_arrays:function(g){var a,b;
b=[];for(a in g){if(g[a] instanceof Array){b.push(a);}}return b;},for_arrays_of:function(k,l,g){var h,i,b,j,a;i=this.get_arrays(k);for(j=0,a=i.length;j<a;
j++){h=i[j];b=l(k[h],g);}return b;},BFS:function(n){var o,m,j,h,k,i,g,l;k=[n.start];i=[n.start];while(k.length){m=k.pop();o=this.edges.out(n,m);for(g=0,l=o.length;
g<l;g++){h=o[g];j=n.edges.b[h];if(e.call(i,j)<0){i.push(j);k.push(j);}console.log(m,"->",j);}}return null;},FDA:function(z,b,a){var D,ai,Q,t,q,r,o,aa,M,y,F,w,T,h,g,I,A,N,L,ag,O,ae,P,S,l,k,R,Z,V,U,ah,af,ad,ac,H,s,p,n,m,ab,W,E,B;
R="Done in";console.time(R);y=false;o=100;D=0.2;ai=D*o*o;Q=D*o*o*o;S=o/10;P=0;I=Number.MAX_VALUE;t=[];q=[];O=0;while(!y){++O;A=I;I=0;aa=b.slice(0);M=a.slice(0);
W=z.nodes.v;for(ag=ah=0,H=W.length;ah<H;ag=++ah){V=W[ag];t[ag]=q[ag]=0;}E=z.nodes.v;for(ag=af=0,s=E.length;af<s;ag=++af){V=E[ag];r=digraph.nodes.out(z,ag).concat(digraph.nodes["in"](z,ag));
N=0;L=0;B=z.nodes.v;for(ae=ad=0,p=B.length;ad<p;ae=++ad){Z=B[ae];if(!(ae!==ag)){continue;}h=b[ae]-b[ag];g=a[ae]-a[ag];if(h===0&&g===0){h=g=Math.random();
}T=h*h+g*g;w=Math.sqrt(T);if(e.call(r,ae)>=0){N+=h*(w/o);L+=g*(w/o);}N+=h*(-ai/T);L+=g*(-ai/T);}t[ag]=N;q[ag]=L;I+=N*N+L*L;}if(I<A){if(++P>=5){P=0;S/=0.9;
}}else{P=0;S*=0.9;}F=A-I;F*=F;l=0;k=0;for(ag=ac=0,n=t.length;ac<n;ag=++ac){N=t[ag];L=q[ag];l+=Math.sqrt(N*N);k+=Math.sqrt(L*L);}for(ag=ab=0,m=b.length;
ab<m;ag=++ab){U=b[ag];if(l>0){b[ag]+=S*t[ag]/l;}if(k>0){a[ag]+=S*q[ag]/k;}}console.log(F);y=(O>=100)||(F<(o*0.01));}console.log("Converged in",O,"steps");
console.timeEnd(R);return null;}};this.fa=Object.create(digraph);this.fa.extend=function(a){a.start=0;return a;};this.fa.create=function(){var a;a=digraph.create();
return fa.extend(a);};this.faxy=Object.create(fa);this.faxy.extend=function(a){a.nodes.x=[];a.nodes.y=[];return a;};this.faxy.create=function(){var a;a=fa.create();
return faxy.extend(a);};f=faxy.create();console.log(d=faxy.nodes.add(f));console.log(c=faxy.nodes.add(f));console.log(faxy.edges.add(f,d,c));console.log(faxy.edges.add(f,d,d));
console.log(faxy.edges.add(f,c,c));console.log("Nodes: ",f.nodes);console.log("Edges: ",f.edges);}).call(this);