!function(){function b(){return{nodes:[],edges:[]}}function c(a){this._graph=null,this._graph=a||b()}function d(a){return a.x=a.x||Math.floor(200*Math.random()),a.y=a.y||Math.floor(300*Math.random()),"translate("+a.x+","+a.y+")"}function e(){this.node.attr("transform",d)}function f(){console.log(this),this.node=this.node.data(this._graph),this.node.exit().remove(),this.node.enter().append("g").attr("transform",d).append("circle").attr("r",16),this.force.start()}function g(a,b){var d=d3.select(a||"body"),g=500,h=300,i=d.append("svg").attr("width",g).attr("height",h).on("contextmenu",function(){d3.event.preventDefault()});i=i.append("g"),i.append("svg:defs").append("svg:marker").attr("id","marker-arrow").attr("orient","auto").attr("markerWidth",6).attr("markerHeight",6).attr("refX",6).attr("refY",3).append("svg:path").attr("d","M0,0 L6,3 L0,6"),this.force=d3.layout.force().charge(-800).linkDistance(150).chargeDistance(450).size([g,h]).on("tick",e),this.node=i.append("g").attr("class","nodes").selectAll("g"),this.edge=i.append("g").attr("class","edges").selectAll("g"),c.call(this,b),this.force.nodes(this._graph.nodes).links(this._graph.links),f.call(this)}var a={version:"1.0.0"};g.prototype.graph=function(a){return arguments.length>0&&(c.call(this,a),f.call(this)),this._graph},a.view=function(a,b){return new g(a,b)},this.jA=this.jA||{},this.jA.editor=a}(window);