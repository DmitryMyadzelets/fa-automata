(function(){var j,b,h,d,i,k,e,c,f,l,g,a;this.r=16;j=Math.PI*2;d="rgba(0,0,0, 0.8)";k="#fec867";f=d;i=d;e=d;c="#da5d00";g="\u03b5";this.draw_state=function(n,m,o){n.beginPath();
n.arc(m,o,r,0,j,true);n.fill();n.stroke();return null;};l=function(n,m,o){draw_state(n,m,o);n.beginPath();n.arc(m,o,r+4,0,j,true);n.stroke();return null;
};this.draw_edge=function(m,o,n){m.beginPath();m.moveTo(o[0],o[1]);m.lineTo(n[0],n[1]);m.stroke();return null;};this.draw_curved=function(m,p,o,n){m.beginPath();
m.moveTo(p[0],p[1]);m.quadraticCurveTo(n[0],n[1],o[0],o[1]);m.stroke();return null;};this.draw_arrow=function(m,n){m.beginPath();m.lineTo(n[0],n[1]);m.lineTo(n[2],n[3]);
m.lineTo(n[4],n[5]);m.stroke();m.fill();return null;};this.draw_fake_edge=function(m,n){m.save();m.fillStyle=i;m.strokeStyle=i;draw_edge(m,n.v1,n.v2);draw_arrow(m,n.arrow);
m.restore();return null;};b=Math.PI/3;h=Math.PI/12;a={dx1:r*Math.cos(b),dy1:r*Math.sin(b),dx2:r*4*Math.cos(b),dy2:r*4*Math.sin(b),dx3:r*4*Math.cos(h),dy3:r*4*Math.sin(h),dx4:r*Math.cos(h),dy4:r*Math.sin(h),nx:Math.cos(b-Math.PI/24),ny:Math.sin(b-Math.PI/24)};
this.draw_loop=function(z,w,v){var C,I,H,u,t,G,F,E,D,B,A,s,q,p,o,n,m;I=-a.nx;H=a.ny;u=H;t=-I;G=w+a.dx1;s=v-a.dy1;C=4*r;F=w+a.dx2;q=v-a.dy2;E=w+a.dx3;p=v-a.dy3;
D=w+a.dx4;o=v-a.dy4;B=G-(10*I)+(4*u);n=s-(10*H)+(4*t);A=B-(8*u);m=n-(8*t);z.save();z.fillStyle=i;z.strokeStyle=i;z.beginPath();z.moveTo(G,s);z.bezierCurveTo(F,q,E,p,D,o);
z.stroke();z.beginPath();z.moveTo(G,s);z.lineTo(B,n);z.lineTo(A,m);z.lineTo(G,s);z.stroke();z.fill();z.restore();return null;};this.draw_automaton=function(B,A){var p,o,z,w,u,v,n,m,s,t,q;
B.save();B.textAlign="center";B.textBaseline="middle";B.fillStyle=d;B.fillStyle=i;B.strokeStyle=i;z="";draw_fake_edge(B,A.edges.start);o=A.edges.length;
while(o-->0){w=A.edges.a[o];u=A.edges.b[o];n=A.nodes.x[w];t=A.nodes.y[w];m=A.nodes.x[u];q=A.nodes.y[u];p=A.edges.$[o];if(w===u){draw_loop(B,n,t);v=n+2*r;
s=t-3*r;}else{if(p.curved){draw_curved(B,p.v1,p.v2,p.cv);draw_arrow(B,p.arrow);v=p.cv[0]+(-5)*p.norm[1];s=p.cv[1]-(-5)*p.norm[0];}else{draw_edge(B,p.v1,p.v2);
draw_arrow(B,p.arrow);v=n+(m-n)/2+0.5*r*p.norm[1];s=t+(q-t)/2-0.5*r*p.norm[0];}}if(A.edges.event[o]!=null){z=g;}else{z=g;}B.fillText(z,v,s);}o=A.nodes.length;
while(o-->0){v=A.nodes.x[o];s=A.nodes.y[o];B.fillStyle=k;draw_state(B,v,s);z=o.toString();B.fillStyle=f;B.fillText(z,v,s);}B.restore();return null;};}).call(this);
