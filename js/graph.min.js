(function(){this.digraph=(function(){var a,b;({ins:function(c,d,e){if(d<c.length){c.push(c[d]);c[d]=e;}else{c.push(e);}return d;},del:function(c,e){var f,d;
d=-1;if(e>=0){f=c.length-1;if(e<f){c[e]=c.pop();d=e;}else{if(e===f){c.pop();d=e;}}}return d;}});b=function(e){var c,d;d=[];for(c in e){if(e[c] instanceof Array){d.push(c);
}}return d;};a=function(i,j,e){var f,g,d,h,c;g=b(i);for(h=0,c=g.length;h<c;h++){f=g[h];d=j(i[f],e);}return d;};return{create:function(){var c;c={nodes:{v:[]},edges:{a:[],b:[],v:[]}};
Object.defineProperty(c.nodes,"length",{get:function(){return c.nodes.v.length;}});Object.defineProperty(c.edges,"length",{get:function(){return c.edges.v.length;
}});return c;},edges:{add:function(f,d,c,e){if(d<0||c<0||d>=f.nodes.length||c>=f.nodes.length){return -1;}if(e==null){e=a(f.edges,(function(g){return g.push(null);
}))-1;}else{a(f.edges,(function(g){return ins(g,e);}));}f.edges.a[e]=d;f.edges.b[e]=c;return e;},del:function(d,c){if(c<0||c>=d.edges.length){return -1;
}return a(d.edges,del,c);},get:function(d,c){return d.edges.v[c];},set:function(e,d,c){return e.edges.v[d]=c;},out:function(h,d){var c,g,k,f,j,e;j=h.edges.b;
e=[];for(g=k=0,f=j.length;k<f;g=++k){c=j[g];if(h.edges.a[g]===d){e.push(g);}}return e;},has:function(h,f,c){var g,e,k,d,j;j=h.edges.b;for(e=k=0,d=j.length;
k<d;e=++k){g=j[e];if(h.edges.a[e]===f&&g===c){return e;}}return -1;},change_node:function(g,f,d,c){var e;e=[g.edges.a[f],g.edges.b[f]];g.edges.a[f]=d;g.edges.b[f]=c;
return e;}},nodes:{add:function(d,c){if(c==null){c=a(d.nodes,(function(e){return e.push(null);}))-1;}else{a(d.nodes,(function(e){return ins(e,c);}));}return c;
},del:function(j,g,f){var e,c,k,d,h;d=j.edges.length;h=j.nodes.length-1;while(d-->0){e=j.edges.a[d];c=j.edges.b[d];if((e===g)||(c===g)){if(typeof f==="function"){f.apply(this,[j,d]);
}else{digraph.edges.del(j,d);}}else{if(g<h){k=false;if(e===h){e=g;k=true;}if(c===h){c=g;k=true;}if(k){digraph.edges.change_node(j,d,e,c);}}}}return a(j.nodes,del,g);
},get:function(d,c){return d.nodes.v[c];},set:function(e,d,c){return e.nodes.v[d]=c;},out:function(h,d){var c,g,k,f,j,e;j=h.edges.b;e=[];for(g=k=0,f=j.length;
k<f;g=++k){c=j[g];if(h.edges.a[g]===d){e.push(c);}}return e;},"in":function(h,f){var e,g,k,d,j,c;j=h.edges.a;c=[];for(g=k=0,d=j.length;k<d;g=++k){e=j[g];
if(h.edges.b[g]===f){c.push(e);}}return c;}}};})();}).call(this);