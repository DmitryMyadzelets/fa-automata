(function(){this.faxy=Object.create(fa);faxy.create=function(){var a;a=fa.create();faxy.extend(a);return a;};faxy.extend=function(a){a.nodes.x=[];a.nodes.y=[];
a.edges.curved=[];a.edges.v1=[];a.edges.v2=[];a.edges.norm=[];a.edges.orth=[];a.edges.arrow=[];return a;};faxy.nodes=Object.create(fa.nodes);faxy.edges=Object.create(fa.edges);
faxy.nodes.add=function(c,a,d){var b;b=fa.nodes.add(c);c.nodes.x[b]=a;c.nodes.y[b]=d;return b;};faxy.nodes.move=function(c,b,a,d){if(b<c.nodes.length&&b>-1){c.nodes.x[b]=a;
c.nodes.y[b]=d;faxy.edges.update_xy(c,b);}return b;};faxy.edges.add=function(h,e,c,f){var g,d;if(fa.edges.has(h,e,c)>-1){return -1;}g=fa.edges.has(h,c,e);
d=fa.edges.add(h,e,c,f);if(d>=0){h.edges.v1[d]=[];h.edges.v2[d]=[];h.edges.norm[d]=[];h.edges.orth[d]=[];h.edges.arrow[d]=[];if(g>=0){h.edges.curved[g]=true;
h.edges.curved[d]=true;}}faxy.edges.update_xy(h,e,c);return d;};faxy.edges.del=function(h,g){var e,c,f,d;e=h.edges.a[g];c=h.edges.b[g];if((d=fa.edges.del(h,g))>=0){if((f=fa.edges.has(h,c,e))>=0){h.edges.curved[f]=false;
}}return d;};faxy.edges.update_xy=function(n,l,i){var g,f,m,k,d,c,j,h;console.log("update...");g=faxy.edges.out(n,l);f=g.length;while(f-->0){m=l;k=n.edges.b[f];
d=n.nodes.x[m];j=n.nodes.y[m];c=n.nodes.x[k];h=n.nodes.y[k];if(m!==k){if(n.edges.curved[f]){null;}else{console.log("calc for: ",f);window.calc_norm_ort(n.edges.v1[f],n.edges.v2[f],n.edges.norm[f],n.edges.orth[f]);
window.calc_edge(n.edges.v1[f],n.edges.v2[f],n.edges.norm[f]);null;}}else{null;}}return null;};}).call(this);